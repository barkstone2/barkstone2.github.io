---
created: 2024-07-24 12:15
updated: 2024-08-04 20:11
---
- npm install과 유사하게 패키지를 설치하지만 CI 환경에서 더 효율적이고 안정적인 설치를 제공
- CI 환경에서 사용하도록 설계되었다.
- package-lock.json 파일을 정확하게 따르며 package.json 파일의 종속성을 변경하지 않는다. 이를 통해 package-lock.json 파일을 사용하는 모든 환경에서 일관된 패키지 버전이 설치된다.
- node_modules 폴더가 있을 경우 이를 먼저 삭제한 후 패키지를 새로 설치한다. 종속성 트리를 재구성하지 않으므로 일반적으로 npm install 보다 빠르다.
- 새로운 종속성을 추가하거나 업데이트하지 않기 때문에 CI/CD 파이프라인에서 재현성을 보장할 수 있다.
- package.json과 package-lock.json 파일이 불일치하면 오류가 발생한다.
<br>
- npm install은 종속성 트리를 재구성한다. 다시 말해 package-lock.json 파일이 변경될 수 있다.
- 속도 차이보다는 node_modules 디렉토리를 완전히 제거하고 다시 순서대로 설치하기 때문에 항상 일관된 패키지 상태를 보장한다는 장점이 있다.
- 때문에 CI 파이프라인에서 캐시를 사용하는 경우라면 npm ci 사용 시 캐시된 내용을 활용하지 못한다.
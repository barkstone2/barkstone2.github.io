---
created: 2024-10-27 15:35
updated: 2024-10-27 19:20
tags:
  - Algorithm
---
# 라인 스위핑이란?
라인 스위핑은 주어진 데이터를 한 방향으로 훑으며 처리하는 기법을 말한다.
기법 자체는 아주 간단하지만 어디에 적용되냐에 따라 난이도가 천차만별이다.
처리해야 할 데이터, 사용되는 자료 구조, 같이 적용해야할 알고리즘에 따라 굉장히 어려워질 수도 있다.

데이터를 훑으면서 처리하기 위해서는 처리 순서에 따라 데이터를 정렬하는 작업이 필수적이다.
특정 기준에 따라 데이터를 정렬하고 난 뒤에는 순서대로 데이터를 확인하며 필요한 처리를 할 수 있다.

이 글에서는 간단한 문제를 통해 라인 스위핑의 개념에 대해서만 다룰 예정이다.
# 시간 복잡도
먼저 정렬을 수행하기 위해 O(NlogN)의 시간 복잡도가 필요하다.
정렬한 이후에는 N개의 데이터를 순차적으로 탐색하면 되기 때문에 O(N)의 시간 복잡도가 필요하다.
결론적으로 라인 스위핑을 통해 필요한 정답을 출력하는데에 일반적으로 O(NlogN)이 소요된다.
# 구간 겹침 문제로 살펴보기
- [BOJ 2170 - 선 긋기](https://www.acmicpc.net/problem/2170)

위 문제는 수평선 위에 그어진 여러 선의 총 길이를 구하는 문제다.
이미 선이 그어진 영역에 겹쳐서 선이 그어질 수도 있으며 이때 겹친 부분에 대한 길이는 총 길이에 포함하지 않는다.
선의 최대 길이가 20억 1이고, 선이 최대 100만개 그어지기 때문에 배열을 통한 조작은 불가능하다.

예제의 선을 좌표 평면 상에 나타내면 아래와 같다.
![[sweeping-line.png|300]]
이때 선의 총 길이는 5가 되며 왼쪽부터 시작해 겹치는 선을 모두 하나로 합치고, 합쳐지지 않는 선들의 길이끼리 더하면 정답을 구할 수 있다.

이를 위해서 먼저 입력으로 주어지는 선들을 시작 위치를 기준으로 정렬한다.
정렬이 끝난 뒤에는 현재 구간의 정보를 유지하면서 각 선이 구간과 겹치는지 확인하고 구간의 확장을 결정한다.
각 과정에 대해 순서대로 살펴보자.

첫 번째 선을 확인할 때는 아직 구간에 대한 정보가 없다. 이 경우에는 현재 구간을 첫 번째 선의 좌표인 `[1, 3]`으로 초기화한다.
![[ls1.png|300]]

이어서 현재 구간과 두 번째 선을 비교한다. 현재 구간인 `[1, 3]`과 두 번째 선인 `[2, 5]`가 겹치기 때문에 현재 구간을 `[1, 5]`로 확장한다.
![[ls2.png|300]]

이어서 확장된 선과 세 번째 선을 비교해 다시 겹치는 지 확인하고, 겹치는 경우 선의 끝점을 확장한다. 여기서는 완벽히 겹치기 때문에 현재 구간에 변동이 없다.
![[ls3.png|300]]

이어서 확장된 선과 네 번째 선을 비교한다. 여기서는 전혀 겹치지 않기 때문에 기존 구간과 겹칠 수 있는 선이 더 이상 존재 하지 않는다.
![[ls4.png|300]]

따라서  현재 구간의 길이를 정답 변수에 더해주고 이후의 탐색을 위해 현재 구간을 `[6, 7]`로 갱신한다.
![[ls5.png|300]]

더 이상의 선이 없기 때문에 여기서 탐색을 종료하고, 마지막 남은 구간의 길이 역시 정답 변수에 더해주면 된다.

> [!check] 관련 문제
> - [BOJ 2836 - 수상 택시](https://www.acmicpc.net/problem/2836) - 스위핑 응용
